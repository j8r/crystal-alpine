# Contributor: Julien Portalier <julien@portalier.com>
# Maintainer: Julien Portalier <julien@portalier.com>
pkgname=shards
pkgver=0.6.4
pkgrel=1
pkgdesc="Dependency manager for the Crystal programming language"
url="https://github.com/crystal-lang/shards/"
arch="all"
license="ASL 2.0"
depends="gc libevent libgcc pcre yaml"
makedepends="crystal gc-dev libevent-dev pcre-dev yaml-dev"
install=""
subpackages=""
source="saveas-https://github.com/crystal-lang/shards/archive/v$pkgver.tar.gz/shards-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver

prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
	crystal build --release -o bin/shards src/shards.cr || return 1
}

package() {
    install -Dm0755 "$_builddir"/bin/shards "$pkgdir"/usr/bin/shards
}

md5sums="4863a98ab1fdc7df998cff013cd1496c  shards-0.6.4.tar.gz"
sha256sums="5972f1b40bb3253319f564dee513229f82b0dcb8eea1502ae7dc483a9c6da5a0  shards-0.6.4.tar.gz"
sha512sums="56475ab8287f469ec0b97d9ad7fcc36e75da8a4cd3fbddadfaf0156b6b0ede25331634bb3b41fa3e4b3c46adcd881838fe56c56de6e5bbf30d03e3106458e820  shards-0.6.4.tar.gz"
